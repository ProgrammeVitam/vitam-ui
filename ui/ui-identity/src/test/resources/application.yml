spring:
  application:
    name: ${server-identity.identityRole}
  api:
    name: API for Identity UI
    description: This API is used by the UI to manage customers, tenants, identity providers, users with their profiles and their profiles groups. This API should be used by the Identity UI only.
    version: v1
  profiles:
    active: test
  jmx:
    default-domain: ui-identity # Need to change endpoints bean name when there is multiple instance of spring boot
  cloud:
    consul:
      discovery:
        enabled: false
        register: false

ui-identity:
  prefix: identity-api
  limit-pagination: 1000
  iam-external-client:
    server-host: localhost
    server-port: 8083
    secure: false
    ssl-configuration:
      keystore:
        key-path: "@project.build.testOutputDirectory@/keystore_sae-app.p12"
        key-password: azerty
      truststore:
        key-path: "@project.build.testOutputDirectory@/truststore_sae-app.jks"
        key-password: azerty
      hostname-verification: true
  referential-external-client:
    server-host: localhost
    server-port: 8087
    secure: true
    ssl-configuration:
      keystore:
        key-path: src/main/resources/dev/keystore_ui-identity-admin.jks
        key-password: changeme
        type: JKS
      truststore:
        key-path: src/main/resources/dev/truststore_server.jks
        key-password: changeme
      hostname-verification: false
  base-url:
    portal: "https://localhost:4200"
    admin-identity: "${ui.url}"
    identity: "${ui.url}"

max-street-length: 250

ui-prefix: identity-api

address:
  max-street-length: 250

portal:
  message: "Profitez d'un portail unique pour rechercher dans les archives de vos coffres, pour déposer des éléments en toute sécurité et pour imprimer des étiquettes en quelques clics."
  title: "Portail des applications de l'archivage"

server-identity:
  identityName: vitamui
  identityRole: ui-identity
  identityServerId: 1

server:
  compression:
    enabled: true
    mime-types: text/html,text/css,application/javascript,application/json
  host: dev.vitamui.com
  port: 8081
  scheme: https
  ssl:
    key-store: src/main/resources/dev/keystore_ui-identity-admin.jks
    key-store-password: changeme
    key-password: changeme
    enabled-protocols: TLSv1.2,TLSv1.3
    ciphers: ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384

controller:
  subrogation:
    enabled: true
  user:
    enabled: true

ui:
  url: https://localhost:4201
  redirect-url: ${ui.url}

cas:
  internal-url: https://dev.vitamui.com:8080
  external-url: https://dev.vitamui.com:8080
  callback-url: ${ui.url}/callback
  ssl:
    trust-store: src/main/resources/dev/truststore_server.jks
    trust-store-password: changeme

debug: false
logging:
  level:
    fr.gouv.vitamui: DEBUG
