<div class="container">
  <form [formGroup]="simpleCriteriaForm">
    <div class="row">
      <div class="col-11">
        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <vitamui-common-editable-input
              formControlName="title"
              [validator]="simpleCriteriaForm?.get('title')?.validator"
              label="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.TITLE' | translate }}"
            >
            </vitamui-common-editable-input>
          </div>
          <div class="col-6 form-control">
            <vitamui-common-editable-input
              formControlName="description"
              [validator]="simpleCriteriaForm?.get('description')?.validator"
              label="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.DESCRIPTION' | translate }}"
            >
            </vitamui-common-editable-input>
          </div>
        </div>

        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <vitamui-common-editable-input
              formControlName="guidopi"
              [validator]="simpleCriteriaForm?.get('guidopi')?.validator"
              label="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.GUID_OPI' | translate }}"
            >
            </vitamui-common-editable-input>
          </div>

          <div class="col-6 form-control">
            <vitamui-common-editable-input
              formControlName="guid"
              [validator]="simpleCriteriaForm?.get('guid')?.validator"
              label="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.UAID' | translate }}"
            >
            </vitamui-common-editable-input>
            <i
              class="vitamui-icon vitamui-icon-info-circle vitamui-row-icon icon-information"
              [matTooltip]="'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.GUIDS_SEPARATED' | translate"
              matTooltipClass="vitamui-tooltip"
              [matTooltipShowDelay]="300"
            ></i>
          </div>
        </div>

        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <p class="title-text">{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.SP' | translate }}</p>
          </div>
          <div class="col-6 form-control"></div>
        </div>

        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <vitamui-common-editable-input
              formControlName="serviceProdCode"
              [validator]="simpleCriteriaForm?.get('serviceProdCode')?.validator"
              label="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.SP_CODE' | translate }}"
            >
            </vitamui-common-editable-input>
          </div>

          <div class="col-6 form-control">
            <vitamui-common-editable-input
              formControlName="serviceProdLabel"
              [validator]="simpleCriteriaForm?.get('serviceProdLabel')?.validator"
              label="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.SP_LABEL' | translate }}"
            >
            </vitamui-common-editable-input>
          </div>
        </div>

        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <p class="title-text">{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.DATES' | translate }}</p>
          </div>
          <div class="col-6 form-control"></div>
        </div>

        <div class="row justify-content-around margin-row margin-bottom">
          <div class="col-6 form-control">
            <div class="vitamui-input" (click)="pickerBegin.open()">
              <span
                *ngIf="!simpleCriteriaForm.get('beginDt').value; else showBeginDt"
                (click)="pickerBegin.open()"
                class="search-date-label"
              >{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.START_DATE_SEARCH' | translate }}</span
              >
              <ng-template #showBeginDt
              ><span
                (click)="pickerBegin.open()">{{ simpleCriteriaForm.get('beginDt').value | dateTime : 'dd/MM/yyyy' }} </span>
              </ng-template>
              <input
                class="hidden"
                size="0"
                [matDatepicker]="pickerBegin"
                formControlName="beginDt"
                [min]="simpleCriteriaForm.get('beginDt').value"
              />
              <mat-datepicker #pickerBegin></mat-datepicker>
            </div>
          </div>

          <div class="col-6 form-control">
            <div class="vitamui-input" (click)="pickerEnd.open()">
              <span *ngIf="!simpleCriteriaForm.get('endDt').value; else showEndDt" (click)="pickerEnd.open()"
                    class="search-date-label">{{
                'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.END_DATE_SEARCH' | translate
                }}</span>
              <ng-template #showEndDt
              ><span
                (click)="pickerEnd.open()">{{ simpleCriteriaForm.get('endDt').value | dateTime : 'dd/MM/yyyy' }} </span>
              </ng-template>
              <input
                class="hidden"
                size="0"
                [matDatepicker]="pickerEnd"
                formControlName="endDt"
                [min]="simpleCriteriaForm.get('endDt').value"
              />
              <mat-datepicker #pickerEnd></mat-datepicker>
            </div>
          </div>
        </div>

        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <p class="title-text">{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.UA_TYPE' | translate }}</p>
          </div>
          <div class="col-6 form-control">
            <p class="title-text">{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.OTHER_FIELD' | translate }}</p>
          </div>
        </div>
        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <div class="row padding-row">
              <label class="criteria-checkbox-choice">
                <input
                  type="checkbox"
                  (click)="addArchiveUnitTypeCriteria('ARCHIVE_UNIT_WITH_OBJECTS', $event)"
                  [checked]="archiveUnitTypesCriteria.get('ARCHIVE_UNIT_WITH_OBJECTS')"
                />
                <span>{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.UNIT_TYPE.ARCHIVE_UNIT_WITH_OBJECTS' | translate }}</span>
              </label>
              <i class="vitamui-icon vitamui-icon-file vitamui-row-icon status-badge icon-large"></i>
            </div>

            <div class="row padding-row">
              <label class="criteria-checkbox-choice">
                <input
                  type="checkbox"
                  (click)="addArchiveUnitTypeCriteria('ARCHIVE_UNIT_WITHOUT_OBJECTS', $event)"
                  [checked]="archiveUnitTypesCriteria.get('ARCHIVE_UNIT_WITHOUT_OBJECTS')"
                />
                <span>{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.UNIT_TYPE.ARCHIVE_UNIT_WITHOUT_OBJECTS' | translate }}</span>
              </label>
              <i class="vitamui-icon vitamui-icon-folder vitamui-row-icon status-badge icon-large"></i>
            </div>
          </div>
          <div class="col-6 form-control">
            <mat-form-field class="vitamui-mat-select search-input-criteria">
              <mat-select
                formControlName="otherCriteria"
                style="font-size: 14px; font-weight: 700; color: var(--vitamui-primary)"
                placeholder="{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.OTHER_FIELD' | translate }}"
                (valueChange)="onSelectOtherCriteria()"
              >
                <mat-option value="" style="font-size: 14px; font-weight: 700; color: var(--vitamui-primary)">
                  {{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.SELECT_OTHER_FIELD' | translate }}
                </mat-option>
                <ng-container *ngFor="let ontology of this.ontologies">
                  <mat-option
                    style="font-size: 14px; font-weight: 700; color: var(--vitamui-primary)"
                    value="{{ ontology.ApiField }}"
                    matTooltip="{{ ontology?.ShortName }}"
                    matTooltipClass="vitamui-tooltip"
                    [matTooltipShowDelay]="300"
                  >{{ ontology.Identifier }}
                  </mat-option>
                </ng-container>
              </mat-select>
              <div class="select-arrow">
                <i class="vitamui-icon vitamui-icon-search vitamui-row-icon"></i>
              </div>
              <div class="select-arrow">
                <i class="material-icons">keyboard_arrow_up</i>
                <i class="material-icons">keyboard_arrow_down</i>
              </div>
            </mat-form-field>
            <br/>
          </div>
        </div>

        <div class="row justify-content-around margin-row">
          <div class="col-6 form-control">
            <div class="row padding-row">
              <label class="criteria-checkbox-choice">
                <input
                  type="checkbox"
                  (click)="addArchiveUnitTypeCriteria('ARCHIVE_UNIT_HOLDING_UNIT', $event)"
                  [checked]="archiveUnitTypesCriteria.get('ARCHIVE_UNIT_HOLDING_UNIT')"
                />
                <span>{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.UNIT_TYPE.ARCHIVE_UNIT_HOLDING_UNIT' | translate }}</span>
              </label>

              <i class="vitamui-icon vitamui-icon-icone-arbre vitamui-row-icon status-badge icon-large"></i>
            </div>

            <div class="row padding-row">
              <label class="criteria-checkbox-choice">
                <input
                  type="checkbox"
                  (click)="addArchiveUnitTypeCriteria('ARCHIVE_UNIT_FILING_UNIT', $event)"
                  [checked]="archiveUnitTypesCriteria.get('ARCHIVE_UNIT_FILING_UNIT')"
                />
                <span>{{ 'ARCHIVE_SEARCH.SEARCH_CRITERIA_FILTER.FIELDS.UNIT_TYPE.ARCHIVE_UNIT_FILING_UNIT' | translate }}</span>
              </label>
              <i class="vitamui-icon vitamui-icon-plan-classement vitamui-row-icon status-badge icon-large"></i>
            </div>
          </div>
          <div class="col-6 form-control" [ngStyle]="{ 'margin-top': '10px' }">
            <vitamui-common-editable-input
              formControlName="otherCriteriaValue"
              *ngIf="
                otherCriteriaValueEnabled &&
                (otherCriteriaValueType === 'KEYWORD' ||
                  otherCriteriaValueType === 'TEXT' ||
                  otherCriteriaValueType === 'LONG' ||
                  otherCriteriaValueType === 'DOUBLE' ||
                  otherCriteriaValueType === 'BOOLEAN')
              "
              [validator]="simpleCriteriaForm?.get('otherCriteriaValue')?.validator"
              label="{{ selectedValueOntolonogy }}">
            </vitamui-common-editable-input>

            <div class="vitamui-input"
                 (click)="pickerOtherCriteria.open()"
                 *ngIf="otherCriteriaValueEnabled && otherCriteriaValueType === 'DATE'">
              <span *ngIf="!simpleCriteriaForm.get('otherCriteriaValue').value; else showOtherCriteria"
                    (click)="pickerOtherCriteria.open()"
                    class="search-date-label"
              >{{ selectedValueOntolonogy }}</span>
              <ng-template #showOtherCriteria>
                <span (click)="pickerOtherCriteria.open()">
                  {{ simpleCriteriaForm.get('otherCriteriaValue').value | dateTime : 'dd/MM/yyyy' }}
                </span>
              </ng-template>
              <input class="hidden" size="0"
                     [matDatepicker]="pickerOtherCriteria"
                     formControlName="otherCriteriaValue"
                     [min]="simpleCriteriaForm.get('otherCriteriaValue').value"/>
              <mat-datepicker #pickerOtherCriteria></mat-datepicker>
            </div>
          </div>
        </div>
        <br/>
      </div>
    </div>
  </form>
</div>
