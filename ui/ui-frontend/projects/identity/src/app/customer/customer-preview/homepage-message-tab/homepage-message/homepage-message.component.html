<form [formGroup]="homepageMessageForm" id="homepageMessageForm">
  <div class="justify-content-between">
    <div class="d-flex flex-column">
      <div class="text large bold mb-4">
        {{ "CUSTOMER.HOMEPAGE_MESSAGE.TITLE" | translate }}
      </div>

      <vitamui-common-input class="pb-2" formControlName="portalTitle" required [placeholder]="
          'CUSTOMER.HOMEPAGE_MESSAGE.DEFAULT_PORTAL_TITLE' | translate
        ">
        <vitamui-common-input-error *ngIf="
            homepageMessageForm.get('portalTitle')?.touched &&
            !!homepageMessageForm.get('portalTitle')?.errors?.required
          ">
          {{ "COMMON.REQUIRED" | translate }}</vitamui-common-input-error>
      </vitamui-common-input>

      <vitamui-common-textarea class="pb-2" formControlName="portalMessage" required [placeholder]="
          'CUSTOMER.HOMEPAGE_MESSAGE.DEFAULT_PORTAL_MESSAGE' | translate
        " [maxlength]="500">
        <vitamui-common-input-error *ngIf="
            homepageMessageForm.get('portalMessage')?.touched &&
            !!homepageMessageForm.get('portalMessage')?.errors?.required
          ">
          {{ "COMMON.REQUIRED" | translate }}</vitamui-common-input-error>
      </vitamui-common-textarea>
      <small class="d-flex justify-content-end">{{ homepageMessageForm.get("portalMessage")?.value?.length }}
        {{
          "CUSTOMER.HOMEPAGE_MESSAGE.PORTAL_MESSAGE_LENGTH" | translate
        }}</small>

    </div>
    
    <div *ngFor="let messageTranslation of homepageMessageForm.get('messageTranslations').value">
      <app-homepage-message-translation [messageTranslation]="messageTranslation"
        (formChange)="updateTranslation($event)" (formRemove)="removeTranslation($event)">
      </app-homepage-message-translation>
    </div>
    <button class="pl-4 btn link uppercase" [disabled]="homepageMessageForm.get('messageTranslations').value.length >=2" (click)="onAdd()">
      <span> {{ "CUSTOMER.HOMEPAGE_MESSAGE.ADD_LANGUAGE" | translate }}</span>
    </button>
  </div>
</form>