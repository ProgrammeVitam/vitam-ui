<div class="vitamui-sidepanel">
  <div class="vitamui-sidepanel-header">
    <div class="d-flex justify-content-end">
      <button class="btn link cancel" (click)="onclose.emit()">
        <i class="vitamui-icon vitamui-icon-close"></i>
      </button>
    </div>

    <!-- if we have a one line title (25 chars), then apply a top margin -->
    <div *ngIf="!loading; else spinner" class="title" [class.mt-3]="title?.length < 26">
      <i class="vitamui-icon {{icon}}"
         [ngClass]="{
          'status-badge-green': badge === 'green',
          'status-badge-grey': badge === 'grey',
          'status-badge-red': badge === 'red',
          'status-badge-orange': badge === 'orange',
          'status-badge-black': badge === 'black'
        }">
      </i>

      <div *ngIf="hasToolTipOnTitle && toolTipTitleText && toolTipTitleDuration" matTooltip="{{toolTipTitleText}}"
           matTooltipClass="vitamui-tooltip" [matTooltipShowDelay]="toolTipTitleDuration">
        <h5 class="m-0 text-primary">{{title}}</h5>
        <p class="text large light m-0">{{subtitle}}</p>
      </div>
      <div *ngIf="!hasToolTipOnTitle || !toolTipTitleText || !toolTipTitleDuration">
        <h5 class="m-0 text-primary">{{title}}</h5>
        <p class="text large light m-0">{{subtitle}}</p>
      </div>
      <div class="d-flex align-items-end justify-content-end actions">
        <ng-content></ng-content>
      </div>
    </div>
  </div>
</div>

<ng-template #spinner>
  <div class="d-flex justify-content-center">
    <mat-spinner class="vitamui-spinner medium"></mat-spinner>
  </div>
</ng-template>
