{"swagger":"2.0","info":{"description":"This API is used to manage Archive operations","version":"v1","title":"API Archive","termsOfService":"Terms of service","contact":{"name":"Direction de la diffusion et des partenariats","email":"contact@programmevitam.fr"},"license":{"name":"License to be defined ...","url":"URL not defined."}},"host":"localhost","basePath":"/","tags":[{"name":"access-contract-temp-internal-controller","description":"Access Contract Temp Internal Controller"},{"name":"archives search","description":"Archive Search Internal Controller"},{"name":"basic-error-controller","description":"Basic Error Controller"}],"produces":["application/json"],"paths":{"/accesscontracts":{"get":{"tags":["access-contract-temp-internal-controller"],"summary":"getAll","operationId":"getAllUsingGET","parameters":[{"name":"criteria","in":"query","description":"criteria","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AccessContractDto"}}}}}},"/archives-search/archiveunit/{id}":{"get":{"tags":["archives search"],"summary":"findUnitById","operationId":"findUnitByIdUsingGET","parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"X-Access-Contract-Id","in":"header","description":"X-Access-Contract-Id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultsDto"}}}}},"/archives-search/downloadobjectfromunit/{id}":{"get":{"tags":["archives search"],"summary":"downloadObjectFromUnit","operationId":"downloadObjectFromUnitUsingGET","parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"},{"name":"X-Access-Contract-Id","in":"header","description":"X-Access-Contract-Id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}}}}},"/archives-search/export-csv-search":{"post":{"tags":["archives search"],"summary":"exportCsvArchiveUnitsByCriteria","operationId":"exportCsvArchiveUnitsByCriteriaUsingPOST","consumes":["application/json"],"parameters":[{"in":"body","name":"searchQuery","description":"searchQuery","required":true,"schema":{"$ref":"#/definitions/SearchCriteriaDto"}},{"name":"X-Access-Contract-Id","in":"header","description":"X-Access-Contract-Id","required":true,"type":"string"},{"name":"X-Tenant-Id","in":"header","description":"X-Tenant-Id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}}}}},"/archives-search/filling-holding-schema":{"get":{"tags":["archives search"],"summary":"getFillingHoldingScheme","operationId":"getFillingHoldingSchemeUsingGET","parameters":[{"name":"X-Access-Contract-Id","in":"header","description":"X-Access-Contract-Id","required":true,"type":"string"},{"name":"X-Tenant-Id","in":"header","description":"X-Tenant-Id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/VitamUISearchResponseDto"}}}}},"/archives-search/search":{"post":{"tags":["archives search"],"summary":"searchArchiveUnitsByCriteria","operationId":"searchArchiveUnitsByCriteriaUsingPOST","consumes":["application/json"],"parameters":[{"in":"body","name":"searchQuery","description":"searchQuery","required":true,"schema":{"$ref":"#/definitions/SearchCriteriaDto"}},{"name":"X-Access-Contract-Id","in":"header","description":"X-Access-Contract-Id","required":true,"type":"string"},{"name":"X-Tenant-Id","in":"header","description":"X-Tenant-Id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArchiveUnitsDto"}}}}},"/error":{"get":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingGET","produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}},"head":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingHEAD","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}},"post":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingPOST","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}},"put":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingPUT","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}},"delete":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingDELETE","produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}},"options":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingOPTIONS","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}},"patch":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingPATCH","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}}}}}},"definitions":{"AccessContractDto":{"type":"object","properties":{"accessLog":{"type":"string"},"activationDate":{"type":"string"},"creationDate":{"type":"string"},"dataObjectVersion":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"description":{"type":"string"},"everyDataObjectVersion":{"type":"boolean"},"everyOriginatingAgency":{"type":"boolean"},"excludedRootUnits":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"id":{"type":"string"},"identifier":{"type":"string"},"lastUpdate":{"type":"string"},"name":{"type":"string"},"originatingAgencies":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"rootUnits":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"ruleCategoryToFilter":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"status":{"type":"string"},"tenant":{"type":"integer","format":"int32"},"version":{"type":"integer","format":"int32"},"writingPermission":{"type":"boolean"},"writingRestrictedDesc":{"type":"boolean"}},"title":"AccessContractDto"},"AgencyDto":{"type":"object","properties":{"Identifier":{"type":"string"}},"title":"AgencyDto"},"ArchiveUnit":{"type":"object","properties":{"#allunitups":{"type":"array","items":{"type":"string"}},"#id":{"type":"string"},"#management":{"$ref":"#/definitions/ManagementDto"},"#max":{"type":"integer","format":"int32"},"#min":{"type":"integer","format":"int32"},"#nbobjects":{"type":"integer","format":"int32"},"#nbunits":{"type":"integer","format":"int32"},"#object":{"type":"string"},"#operations":{"type":"array","items":{"type":"string"}},"#opi":{"type":"string"},"#originating_agencies":{"type":"array","items":{"type":"string"}},"#originating_agency":{"type":"string"},"#qualifiers":{"type":"array","items":{"$ref":"#/definitions/QualifiersDto"}},"#storage":{"$ref":"#/definitions/StorageDto"},"#tenant":{"type":"integer","format":"int32"},"#unitType":{"type":"string"},"#unitups":{"type":"array","items":{"type":"string"}},"AcquiredDate":{"type":"string"},"CreatedDate":{"type":"string"},"Description":{"type":"string"},"DescriptionLevel":{"type":"string"},"DocumentType":{"type":"string"},"EndDate":{"type":"string"},"FileInfo":{"$ref":"#/definitions/FileInfoDto"},"InheritedRules":{"$ref":"#/definitions/InheritedRulesDto"},"Keyword":{"type":"array","items":{"$ref":"#/definitions/KeywordDto"}},"OriginatingAgencyArchiveUnitIdentifier":{"type":"array","items":{"type":"string"}},"OriginatingSystemId":{"type":"array","items":{"type":"string"}},"PhysicalAgency":{"type":"array","items":{"type":"string"}},"PhysicalStatus":{"type":"array","items":{"type":"string"}},"PhysicalType":{"type":"array","items":{"type":"string"}},"ReceivedDate":{"type":"string"},"RegisteredDate":{"type":"string"},"SentDate":{"type":"string"},"StartDate":{"type":"string"},"Status":{"type":"string"},"SubmissionAgency":{"$ref":"#/definitions/AgencyDto"},"Title":{"type":"string"},"Title_":{"$ref":"#/definitions/TitleDto"},"TransactedDate":{"type":"string"},"Version":{"type":"string"},"Vtag":{"type":"array","items":{"$ref":"#/definitions/VtagDto"}},"Xtag":{"type":"array","items":{"$ref":"#/definitions/XtagDto"}},"originating_agencyName":{"type":"string"}},"title":"ArchiveUnit"},"ArchiveUnitsDto":{"type":"object","properties":{"archives":{"$ref":"#/definitions/VitamUIArchiveUnitResponseDto"},"id":{"type":"string"}},"title":"ArchiveUnitsDto"},"FacetBucketDto":{"type":"object","properties":{"count":{"type":"integer","format":"int64"},"value":{"type":"string"}},"title":"FacetBucketDto"},"FacetResultsDto":{"type":"object","properties":{"buckets":{"type":"array","items":{"$ref":"#/definitions/FacetBucketDto"}},"name":{"type":"string"}},"title":"FacetResultsDto"},"FieldsDto":{"type":"object","properties":{"Description":{"type":"integer","format":"int32"},"Title":{"type":"integer","format":"int32"}},"title":"FieldsDto"},"FileInfoDto":{"type":"object","properties":{"CreatingApplicationName":{"type":"string"},"CreatingApplicationVersion":{"type":"string"},"CreatingOs":{"type":"string"},"CreatingOsVersion":{"type":"string"},"DateCreatedByApplication":{"type":"string"},"Filename":{"type":"string"},"LastModified":{"type":"string"}},"title":"FileInfoDto"},"FileInfoModel":{"type":"object","properties":{"CreatingApplicationName":{"type":"string"},"CreatingApplicationVersion":{"type":"string"},"CreatingOs":{"type":"string"},"CreatingOsVersion":{"type":"string"},"DateCreatedByApplication":{"type":"string"},"Filename":{"type":"string"},"LastModified":{"type":"string"}},"title":"FileInfoModel"},"FilterDto":{"type":"object","properties":{"$limit":{"type":"integer","format":"int32"},"$orderby":{"$ref":"#/definitions/OrderbyDto"}},"title":"FilterDto"},"FormatIdentificationModel":{"type":"object","properties":{"Encoding":{"type":"string"},"FormatId":{"type":"string"},"FormatLitteral":{"type":"string"},"MimeType":{"type":"string"}},"title":"FormatIdentificationModel"},"HitsDto":{"type":"object","properties":{"limit":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"}},"title":"HitsDto"},"InheritedPropertyDto":{"type":"object","properties":{"PropertyName":{"type":"string"},"PropertyValue":{"type":"object"}},"title":"InheritedPropertyDto"},"InheritedRuleCategoryDto":{"type":"object","properties":{"Properties":{"type":"array","items":{"$ref":"#/definitions/InheritedPropertyDto"}},"Rules":{"type":"array","items":{"$ref":"#/definitions/RuleDto"}}},"title":"InheritedRuleCategoryDto"},"InheritedRulesDto":{"type":"object","properties":{"AppraisalRule":{"$ref":"#/definitions/InheritedRuleCategoryDto"}},"title":"InheritedRulesDto"},"InputStream":{"type":"object","title":"InputStream"},"JsonNode":{"type":"object","title":"JsonNode"},"KeywordDto":{"type":"object","properties":{"KeywordContent":{"type":"string"},"KeywordReference":{"type":"string"}},"title":"KeywordDto"},"ManagementDto":{"type":"object","properties":{"AppraisalRule":{"$ref":"#/definitions/RuleCategoryDto"}},"title":"ManagementDto"},"MeasurementModel":{"type":"object","properties":{"dValue":{"type":"number"},"dvalue":{"type":"number"},"unit":{"type":"string"}},"title":"MeasurementModel"},"MetadataModel":{"type":"object","properties":{"Audio":{"type":"object"},"Document":{"type":"object"},"Image":{"type":"object"},"Text":{"type":"object"},"Video":{"type":"object"}},"title":"MetadataModel"},"ModelAndView":{"type":"object","properties":{"empty":{"type":"boolean"},"model":{"type":"object"},"modelMap":{"type":"object","additionalProperties":{"type":"object"}},"reference":{"type":"boolean"},"status":{"type":"string","enum":["ACCEPTED","ALREADY_REPORTED","BAD_GATEWAY","BAD_REQUEST","BANDWIDTH_LIMIT_EXCEEDED","CHECKPOINT","CONFLICT","CONTINUE","CREATED","DESTINATION_LOCKED","EXPECTATION_FAILED","FAILED_DEPENDENCY","FORBIDDEN","FOUND","GATEWAY_TIMEOUT","GONE","HTTP_VERSION_NOT_SUPPORTED","IM_USED","INSUFFICIENT_SPACE_ON_RESOURCE","INSUFFICIENT_STORAGE","INTERNAL_SERVER_ERROR","I_AM_A_TEAPOT","LENGTH_REQUIRED","LOCKED","LOOP_DETECTED","METHOD_FAILURE","METHOD_NOT_ALLOWED","MOVED_PERMANENTLY","MOVED_TEMPORARILY","MULTIPLE_CHOICES","MULTI_STATUS","NETWORK_AUTHENTICATION_REQUIRED","NON_AUTHORITATIVE_INFORMATION","NOT_ACCEPTABLE","NOT_EXTENDED","NOT_FOUND","NOT_IMPLEMENTED","NOT_MODIFIED","NO_CONTENT","OK","PARTIAL_CONTENT","PAYLOAD_TOO_LARGE","PAYMENT_REQUIRED","PERMANENT_REDIRECT","PRECONDITION_FAILED","PRECONDITION_REQUIRED","PROCESSING","PROXY_AUTHENTICATION_REQUIRED","REQUESTED_RANGE_NOT_SATISFIABLE","REQUEST_ENTITY_TOO_LARGE","REQUEST_HEADER_FIELDS_TOO_LARGE","REQUEST_TIMEOUT","REQUEST_URI_TOO_LONG","RESET_CONTENT","SEE_OTHER","SERVICE_UNAVAILABLE","SWITCHING_PROTOCOLS","TEMPORARY_REDIRECT","TOO_EARLY","TOO_MANY_REQUESTS","UNAUTHORIZED","UNAVAILABLE_FOR_LEGAL_REASONS","UNPROCESSABLE_ENTITY","UNSUPPORTED_MEDIA_TYPE","UPGRADE_REQUIRED","URI_TOO_LONG","USE_PROXY","VARIANT_ALSO_NEGOTIATES"]},"view":{"$ref":"#/definitions/View"},"viewName":{"type":"string"}},"title":"ModelAndView"},"OrderbyDto":{"type":"object","properties":{"TransactedDate":{"type":"integer","format":"int32"}},"title":"OrderbyDto"},"PhysicalDimensionsModel":{"type":"object","properties":{"Depth":{"$ref":"#/definitions/MeasurementModel"},"Diameter":{"$ref":"#/definitions/MeasurementModel"},"Height":{"$ref":"#/definitions/MeasurementModel"},"Length":{"$ref":"#/definitions/MeasurementModel"},"NumberOfPage":{"type":"integer","format":"int32"},"Shape":{"type":"string"},"Thickness":{"$ref":"#/definitions/MeasurementModel"},"Weight":{"$ref":"#/definitions/MeasurementModel"},"Width":{"$ref":"#/definitions/MeasurementModel"},"any":{"type":"array","items":{"type":"object"}}},"title":"PhysicalDimensionsModel"},"ProjectionDto":{"type":"object","properties":{"$fields":{"$ref":"#/definitions/FieldsDto"}},"title":"ProjectionDto"},"QualifiersDto":{"type":"object","properties":{"qualifier":{"type":"string"},"versions":{"type":"array","items":{"$ref":"#/definitions/VersionsDto"}}},"title":"QualifiersDto"},"QueryDTO":{"type":"object","properties":{"$filter":{"$ref":"#/definitions/QueryFilter"},"$projection":{"$ref":"#/definitions/QueryProjection"},"$query":{"type":"array","items":{"$ref":"#/definitions/JsonNode"}},"$roots":{"type":"array","items":{"type":"string"}}},"title":"QueryDTO"},"QueryFilter":{"type":"object","properties":{"$limit":{"type":"integer","format":"int32"},"$offset":{"type":"integer","format":"int32"},"$orderby":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}},"title":"QueryFilter"},"QueryProjection":{"type":"object","properties":{"$fields":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}},"title":"QueryProjection"},"Resource":{"type":"object","properties":{"description":{"type":"string"},"file":{"type":"file"},"filename":{"type":"string"},"inputStream":{"$ref":"#/definitions/InputStream"},"open":{"type":"boolean"},"readable":{"type":"boolean"},"uri":{"type":"string","format":"uri"},"url":{"type":"string","format":"url"}},"title":"Resource"},"ResultsDto":{"type":"object","properties":{"#allunitups":{"type":"array","items":{"type":"string"}},"#id":{"type":"string"},"#management":{"$ref":"#/definitions/ManagementDto"},"#max":{"type":"integer","format":"int32"},"#min":{"type":"integer","format":"int32"},"#nbobjects":{"type":"integer","format":"int32"},"#nbunits":{"type":"integer","format":"int32"},"#object":{"type":"string"},"#operations":{"type":"array","items":{"type":"string"}},"#opi":{"type":"string"},"#originating_agencies":{"type":"array","items":{"type":"string"}},"#originating_agency":{"type":"string"},"#qualifiers":{"type":"array","items":{"$ref":"#/definitions/QualifiersDto"}},"#storage":{"$ref":"#/definitions/StorageDto"},"#tenant":{"type":"integer","format":"int32"},"#unitType":{"type":"string"},"#unitups":{"type":"array","items":{"type":"string"}},"AcquiredDate":{"type":"string"},"CreatedDate":{"type":"string"},"Description":{"type":"string"},"DescriptionLevel":{"type":"string"},"DocumentType":{"type":"string"},"EndDate":{"type":"string"},"FileInfo":{"$ref":"#/definitions/FileInfoDto"},"InheritedRules":{"$ref":"#/definitions/InheritedRulesDto"},"Keyword":{"type":"array","items":{"$ref":"#/definitions/KeywordDto"}},"OriginatingAgencyArchiveUnitIdentifier":{"type":"array","items":{"type":"string"}},"OriginatingSystemId":{"type":"array","items":{"type":"string"}},"PhysicalAgency":{"type":"array","items":{"type":"string"}},"PhysicalStatus":{"type":"array","items":{"type":"string"}},"PhysicalType":{"type":"array","items":{"type":"string"}},"ReceivedDate":{"type":"string"},"RegisteredDate":{"type":"string"},"SentDate":{"type":"string"},"StartDate":{"type":"string"},"Status":{"type":"string"},"SubmissionAgency":{"$ref":"#/definitions/AgencyDto"},"Title":{"type":"string"},"Title_":{"$ref":"#/definitions/TitleDto"},"TransactedDate":{"type":"string"},"Version":{"type":"string"},"Vtag":{"type":"array","items":{"$ref":"#/definitions/VtagDto"}},"Xtag":{"type":"array","items":{"$ref":"#/definitions/XtagDto"}}},"title":"ResultsDto"},"RuleCategoryDto":{"type":"object","properties":{"FinalAction":{"type":"string"},"Rules":{"type":"array","items":{"$ref":"#/definitions/RuleDto"}}},"title":"RuleCategoryDto"},"RuleDto":{"type":"object","properties":{"EndDate":{"type":"string"},"Rule":{"type":"string"},"StartDate":{"type":"string"}},"title":"RuleDto"},"SearchCriteriaDto":{"type":"object","properties":{"criteriaList":{"type":"array","items":{"$ref":"#/definitions/SearchCriteriaEltDto"}},"fieldsList":{"type":"array","items":{"type":"string"}},"language":{"type":"string"},"nodes":{"type":"array","items":{"type":"string"}},"pageNumber":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"sortingCriteria":{"$ref":"#/definitions/SearchCriteriaSort"}},"title":"SearchCriteriaDto"},"SearchCriteriaEltDto":{"type":"object","properties":{"criteria":{"type":"string"},"values":{"type":"array","items":{"type":"string"}}},"title":"SearchCriteriaEltDto"},"SearchCriteriaSort":{"type":"object","properties":{"criteria":{"type":"string"},"sorting":{"type":"string","enum":["ASC","DESC"]}},"title":"SearchCriteriaSort"},"StorageDto":{"type":"object","properties":{"strategyId":{"type":"string"}},"title":"StorageDto"},"StorageJson":{"type":"object","properties":{"#nbc":{"type":"string"},"offerIds":{"type":"array","items":{"type":"string"}},"strategyId":{"type":"string"}},"title":"StorageJson"},"TitleDto":{"type":"object","properties":{"en":{"type":"string"},"fr":{"type":"string"}},"title":"TitleDto"},"VersionsDto":{"type":"object","properties":{"#id":{"type":"string"},"#rank":{"type":"integer","format":"int32"},"#storage":{"$ref":"#/definitions/StorageJson"},"Algorithm":{"type":"string"},"DataObjectGroupId":{"type":"string"},"DataObjectVersion":{"type":"string"},"FileInfo":{"$ref":"#/definitions/FileInfoModel"},"FormatIdentification":{"$ref":"#/definitions/FormatIdentificationModel"},"MessageDigest":{"type":"string"},"Metadata":{"$ref":"#/definitions/MetadataModel"},"OtherMetadata":{"type":"object"},"PhysicalDimensions":{"$ref":"#/definitions/PhysicalDimensionsModel"},"PhysicalId":{"type":"string"},"Size":{"type":"integer","format":"int32"},"Uri":{"type":"string"}},"title":"VersionsDto"},"View":{"type":"object","properties":{"contentType":{"type":"string"}},"title":"View"},"VitamSearchRequestDto":{"type":"object","properties":{"$filter":{"$ref":"#/definitions/FilterDto"},"$projection":{"$ref":"#/definitions/ProjectionDto"},"$query":{"type":"array","items":{"$ref":"#/definitions/QueryDTO"}},"$roots":{"type":"array","items":{"type":"string"}}},"title":"VitamSearchRequestDto"},"VitamUIArchiveUnitResponseDto":{"type":"object","properties":{"$context":{"$ref":"#/definitions/VitamSearchRequestDto"},"$facetResults":{"type":"array","items":{"$ref":"#/definitions/FacetResultsDto"}},"$hits":{"$ref":"#/definitions/HitsDto"},"$results":{"type":"array","items":{"$ref":"#/definitions/ArchiveUnit"}}},"title":"VitamUIArchiveUnitResponseDto"},"VitamUISearchResponseDto":{"type":"object","properties":{"$context":{"$ref":"#/definitions/VitamSearchRequestDto"},"$facetResults":{"type":"array","items":{"$ref":"#/definitions/FacetResultsDto"}},"$hits":{"$ref":"#/definitions/HitsDto"},"$results":{"type":"array","items":{"$ref":"#/definitions/ResultsDto"}}},"title":"VitamUISearchResponseDto"},"VtagDto":{"type":"object","properties":{"Key":{"type":"array","items":{"type":"string"}},"Value":{"type":"array","items":{"type":"string"}}},"title":"VtagDto"},"XtagDto":{"type":"object","properties":{"Key":{"type":"array","items":{"type":"string"}},"Value":{"type":"array","items":{"type":"string"}}},"title":"XtagDto"}}}