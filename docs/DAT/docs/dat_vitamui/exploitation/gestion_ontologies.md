## Les ontologies dans VitamUI

On affiche actuellement une liste statique des ontologies dans VitamUI, au niveau des applications **_Collecte_**, **_Consultation et Recherche_**.

En plus des ontologies statiques, nous avons ajouté une nouvelle option qui va permettre à un exploitant d'ajouter d'autres ontologies qui seront utilisées ensuite dans les deux applications de collecte et de recherche.

Il est nécessaire de déposer un fichier JSON dans **deployment/environments/ontology/** avec le nom : **external_ontology_fields.json** (c'est obligatoire d'avoir un fichier avec ce nom sinon la nouvelle liste des ontologies ne sera pas récupérée dans VitamUI). C'est recommandé d'ajouter aussi les ontologies dans la base de données de Vitam.

Après l'installation de VitamUI le fichier des ontologies sera placé dans les deux répertoires (au niveau de la machine) : 
- vitamui/conf/archive-search-internal/
- vitamui/conf/collect-internal/

Ensuite, s'il y a un besoin d'ajouter des nouvelles ontologies, il suffit juste de modifier le fichier directement au niveau des machines. Sinon changer le fichier **environments/ontology/external_ontology_fields.json** et relancer les deux tâches :
- Copy ontologies file to the service conf repository dans **Archive-search**.
- Copy ontologies file to the service conf repository dans **Collect**.

Le fichier doit un être un JSON qui contient une liste d'objets.

Chaque objet représente une ontologie, et les informations qu'il faut renseigner pour chaque ontologie :

- **_Identifier_** : Identifier de l'ontologie (chaine de caractère).
- **_ApiField_** :
- **_Description_** : Description de l'ontologie (chaine de caractère).
- **_Type_** : le type de l'ontologie, les valeurs possible : `KEYWORD`, `DATE`, `LONG`, `BOOLEAN`, `DOUBLE`, `TEXT`
- **_Origin_** :
- **_CreationDate_** : date de création de l'ontologie.
- **_LastUpdate_** : date de la dernière modification de l'ontologie.
- **_ShortName_** : (chaine de caractère)
- **_TenantIds_** : La liste des tenants dont on pourra utiliser l'ontologie (liste des entiers), si le tenant **1** est parmi la liste des entiers donc l'ontologie en question sera visible sur l'ensemble des tenants.

**Exemple** :

```json
  {
    "Identifier": "DeactivationDate",
    "ApiField": "DeactivationDate",
    "Description": "Mapping : accesscontract-es-mapping",
    "Type": "DATE",
    "Origin": "EXTERNAL",
    "CreationDate": "2022-09-30T12:11:56.902",
    "LastUpdate": "2022-09-30T12:52:56.308",
    "ShortName": "Date de désactivation",
    "TenantIds" : [3,4]
  }
```
