#
# Host file for vitamui deployement
#

# VITAMUI Hosts
localhost           ansible_host=127.0.0.1      ip_admin=127.0.0.1   ip_service=127.0.0.1   ansible_connection=local    ansible_become=false

# VITAM Hosts

#
# **************************************    ZONES VITAMUI   *******************************************************
#

########################################################
# ZONE Common system

# SERVER LIST vitamui machines
[vitamui:children]
zone-vitamui-rp
zone-vitamui-ui
zone-vitamui-cas
zone-vitamui-app
zone-vitamui-data
zone-vitamui-infra
zone-vitamui-admin


########################################################
# ZONE Infra
[zone-vitamui-infra:children]
hosts-vitamui-logstash

[hosts-vitamui-logstash]
# EDIT
localhost

########################################################
# ZONE Data

[zone-vitamui-data:children]
hosts-vitamui-mongod

[hosts-vitamui-mongod]
# EDIT
localhost   mongo_express=yes   mongo_rs_bootstrap=yes

########################################################
# ZONE reverseproxy

[zone-vitamui-rp:children]
hosts-vitamui-reverseproxy

[hosts-vitamui-reverseproxy]
# EDIT
localhost

########################################################
# ZONE APP

[zone-vitamui-app:children]
hosts-iam-internal
hosts-iam-external
hosts-vitamui-security-internal

[hosts-iam-internal]
# EDIT
localhost

[hosts-iam-external]
# EDIT
localhost

[hosts-vitamui-security-internal]
# EDIT
localhost

########################################################
# ZONE UI

[zone-vitamui-ui:children]
hosts-ui-identity
hosts-ui-portal
hosts-ui-search

[hosts-ui-identity]
# EDIT
localhost

[hosts-ui-portal]
# EDIT
localhost

[hosts-ui-search]
# EDIT
localhost

########################################################
# ZONE ADMIN

[zone-vitamui-admin:children]
hosts-ui-identity-admin

[hosts-ui-identity-admin]
# EDIT
localhost

########################################################
# ZONE CAS

[zone-vitamui-cas:children]
hosts-cas-server

[hosts-cas-server]
# EDIT
localhost

########################################################
# ZONE TOOLS

# SERVER LIST bastion
#
# Jump servers where ssh jump will be installed
#
[bastion]
# EDIT



# SERVER LIST os_repository
#
# Servers hosting vitamui yum repository
#
[os_repository]
# EDIT



# SERVER LIST remote deployer
#
# Server where all tools needed for executing vitamui/vitam playbooks will be installed
#
[deployer]
# EDIT


# SERVER LIST remote access config
#
# Servers needing ssh acces configured. The role needs user/password for ssh connect and set's up vitamuiroot user + public key auth
#
[configure-remote-access]
# EDIT


# SERVER LIST backup
#
# Servers where backup mount / dir will be installed
#
[backup]
# EDIT



#
# **************************************    ZONES VITAM   ******************************************************
#

# MINIMUM REQUIRED IN ZONE VITAM
[hosts-consul-server]
## Put all hosts to force consul server configuration. Add ip_admin manually, should be generated by vitam generate_hosts_vars playbook
localhost           ip_admin=127.0.0.1

[hosts-ingest-external]
localhost

[hosts-access-external]
localhost

[hosts-ihm-demo]
localhost

[hosts-elasticsearch-log]
localhost

[hosts-elasticsearch-log]
localhost

[hosts-functional-admin]
localhost

[hosts-security-internal]
localhost

########################################################
# VARS - common VITAMUI and VITAM
########################################################
[all:vars]
## Uncomment and fill for remote deploy
#ansible_connection=ssh
#ansible_ssh_user=vitamuiroot
#ansible_become_pass=vitamuiroot
#ansible_ssh_common_args='-F ssh/config'

## Activate vitam instance proxying on nginx
#vitam_ihm_demo_proxy=false

## Activate consul_ui_proxy instance
#consul_ui_proxy=false
