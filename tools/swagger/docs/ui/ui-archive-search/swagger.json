{"swagger":"2.0","info":{"description":"This API is used by the Archive UI to send archives to external Vitam UI layers and than to Vitam. This API should be used by the Archive UI only.","version":"v1","title":"API for Archive UI","termsOfService":"Terms of service","contact":{"name":"Direction de la diffusion et des partenariats","email":"contact@programmevitam.fr"},"license":{"name":"License to be defined ...","url":"URL not defined."}},"host":"localhost","basePath":"/","tags":[{"name":"archives Search","description":"Access Contract Temp Controller"}],"produces":["application/json"],"paths":{"/archive-search-api/archive-search/accesscontracts":{"get":{"tags":["archives Search"],"summary":"Get entity","operationId":"getAllUsingGET","parameters":[{"name":"criteria","in":"query","description":"criteria","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AccessContractDto"}}}}}},"/archive-search-api/archive-search/archiveunit/{id}":{"get":{"tags":["archives Search"],"summary":"Find the Archive Unit Details","operationId":"findUnitByIdUsingGET","parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ResultsDto"}}}}},"/archive-search-api/archive-search/downloadobjectfromunit/{id}":{"get":{"tags":["archives Search"],"summary":"Download Object from the Archive Unit ","operationId":"downloadObjectFromUnitUsingGET","parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}}}}},"/archive-search-api/archive-search/export-csv-search":{"post":{"tags":["archives Search"],"summary":"export into csv format archive units by criteria","operationId":"exportCsvArchiveUnitsByCriteriaUsingPOST","consumes":["application/json"],"parameters":[{"in":"body","name":"searchQuery","description":"searchQuery","required":true,"schema":{"$ref":"#/definitions/SearchCriteriaDto"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}}}}},"/archive-search-api/archive-search/filingholdingscheme":{"get":{"tags":["archives Search"],"summary":"Get filing plan","operationId":"findFilingHoldingSchemeUsingGET","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/VitamUISearchResponseDto"}}}}},"/archive-search-api/archive-search/search":{"post":{"tags":["archives Search"],"summary":"find archive units by criteria","operationId":"searchArchiveUnitsUsingPOST","consumes":["application/json"],"parameters":[{"in":"body","name":"searchQuery","description":"searchQuery","required":true,"schema":{"$ref":"#/definitions/SearchCriteriaDto"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/VitamUIArchiveUnitResponseDto"}}}}}},"definitions":{"AccessContractDto":{"type":"object","properties":{"accessLog":{"type":"string"},"activationDate":{"type":"string"},"creationDate":{"type":"string"},"dataObjectVersion":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"description":{"type":"string"},"everyDataObjectVersion":{"type":"boolean"},"everyOriginatingAgency":{"type":"boolean"},"excludedRootUnits":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"id":{"type":"string"},"identifier":{"type":"string"},"lastUpdate":{"type":"string"},"name":{"type":"string"},"originatingAgencies":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"rootUnits":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"ruleCategoryToFilter":{"type":"array","uniqueItems":true,"items":{"type":"string"}},"status":{"type":"string"},"tenant":{"type":"integer","format":"int32"},"version":{"type":"integer","format":"int32"},"writingPermission":{"type":"boolean"},"writingRestrictedDesc":{"type":"boolean"}},"title":"AccessContractDto"},"AgencyDto":{"type":"object","properties":{"Identifier":{"type":"string"}},"title":"AgencyDto"},"ArchiveUnit":{"type":"object","properties":{"#allunitups":{"type":"array","items":{"type":"string"}},"#id":{"type":"string"},"#management":{"$ref":"#/definitions/ManagementDto"},"#max":{"type":"integer","format":"int32"},"#min":{"type":"integer","format":"int32"},"#nbobjects":{"type":"integer","format":"int32"},"#nbunits":{"type":"integer","format":"int32"},"#object":{"type":"string"},"#operations":{"type":"array","items":{"type":"string"}},"#opi":{"type":"string"},"#originating_agencies":{"type":"array","items":{"type":"string"}},"#originating_agency":{"type":"string"},"#qualifiers":{"type":"array","items":{"$ref":"#/definitions/QualifiersDto"}},"#storage":{"$ref":"#/definitions/StorageDto"},"#tenant":{"type":"integer","format":"int32"},"#unitType":{"type":"string"},"#unitups":{"type":"array","items":{"type":"string"}},"AcquiredDate":{"type":"string"},"CreatedDate":{"type":"string"},"Description":{"type":"string"},"DescriptionLevel":{"type":"string"},"DocumentType":{"type":"string"},"EndDate":{"type":"string"},"FileInfo":{"$ref":"#/definitions/FileInfoDto"},"InheritedRules":{"$ref":"#/definitions/InheritedRulesDto"},"Keyword":{"type":"array","items":{"$ref":"#/definitions/KeywordDto"}},"OriginatingAgencyArchiveUnitIdentifier":{"type":"array","items":{"type":"string"}},"OriginatingSystemId":{"type":"array","items":{"type":"string"}},"PhysicalAgency":{"type":"array","items":{"type":"string"}},"PhysicalStatus":{"type":"array","items":{"type":"string"}},"PhysicalType":{"type":"array","items":{"type":"string"}},"ReceivedDate":{"type":"string"},"RegisteredDate":{"type":"string"},"SentDate":{"type":"string"},"StartDate":{"type":"string"},"Status":{"type":"string"},"SubmissionAgency":{"$ref":"#/definitions/AgencyDto"},"Title":{"type":"string"},"Title_":{"$ref":"#/definitions/TitleDto"},"TransactedDate":{"type":"string"},"Version":{"type":"string"},"Vtag":{"type":"array","items":{"$ref":"#/definitions/VtagDto"}},"Xtag":{"type":"array","items":{"$ref":"#/definitions/XtagDto"}},"originating_agencyName":{"type":"string"}},"title":"ArchiveUnit"},"FacetBucketDto":{"type":"object","properties":{"count":{"type":"integer","format":"int64"},"value":{"type":"string"}},"title":"FacetBucketDto"},"FacetResultsDto":{"type":"object","properties":{"buckets":{"type":"array","items":{"$ref":"#/definitions/FacetBucketDto"}},"name":{"type":"string"}},"title":"FacetResultsDto"},"FieldsDto":{"type":"object","properties":{"Description":{"type":"integer","format":"int32"},"Title":{"type":"integer","format":"int32"}},"title":"FieldsDto"},"FileInfoDto":{"type":"object","properties":{"CreatingApplicationName":{"type":"string"},"CreatingApplicationVersion":{"type":"string"},"CreatingOs":{"type":"string"},"CreatingOsVersion":{"type":"string"},"DateCreatedByApplication":{"type":"string"},"Filename":{"type":"string"},"LastModified":{"type":"string"}},"title":"FileInfoDto"},"FileInfoModel":{"type":"object","properties":{"CreatingApplicationName":{"type":"string"},"CreatingApplicationVersion":{"type":"string"},"CreatingOs":{"type":"string"},"CreatingOsVersion":{"type":"string"},"DateCreatedByApplication":{"type":"string"},"Filename":{"type":"string"},"LastModified":{"type":"string"}},"title":"FileInfoModel"},"FilterDto":{"type":"object","properties":{"$limit":{"type":"integer","format":"int32"},"$orderby":{"$ref":"#/definitions/OrderbyDto"}},"title":"FilterDto"},"FormatIdentificationModel":{"type":"object","properties":{"Encoding":{"type":"string"},"FormatId":{"type":"string"},"FormatLitteral":{"type":"string"},"MimeType":{"type":"string"}},"title":"FormatIdentificationModel"},"HitsDto":{"type":"object","properties":{"limit":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"}},"title":"HitsDto"},"InheritedPropertyDto":{"type":"object","properties":{"PropertyName":{"type":"string"},"PropertyValue":{"type":"object"}},"title":"InheritedPropertyDto"},"InheritedRuleCategoryDto":{"type":"object","properties":{"Properties":{"type":"array","items":{"$ref":"#/definitions/InheritedPropertyDto"}},"Rules":{"type":"array","items":{"$ref":"#/definitions/RuleDto"}}},"title":"InheritedRuleCategoryDto"},"InheritedRulesDto":{"type":"object","properties":{"AppraisalRule":{"$ref":"#/definitions/InheritedRuleCategoryDto"}},"title":"InheritedRulesDto"},"InputStream":{"type":"object","title":"InputStream"},"JsonNode":{"type":"object","title":"JsonNode"},"KeywordDto":{"type":"object","properties":{"KeywordContent":{"type":"string"},"KeywordReference":{"type":"string"}},"title":"KeywordDto"},"ManagementDto":{"type":"object","properties":{"AppraisalRule":{"$ref":"#/definitions/RuleCategoryDto"}},"title":"ManagementDto"},"MeasurementModel":{"type":"object","properties":{"dValue":{"type":"number"},"dvalue":{"type":"number"},"unit":{"type":"string"}},"title":"MeasurementModel"},"MetadataModel":{"type":"object","properties":{"Audio":{"type":"object"},"Document":{"type":"object"},"Image":{"type":"object"},"Text":{"type":"object"},"Video":{"type":"object"}},"title":"MetadataModel"},"OrderbyDto":{"type":"object","properties":{"TransactedDate":{"type":"integer","format":"int32"}},"title":"OrderbyDto"},"PaginatedValuesDtoÂ«AccessContractDtoÂ»":{"type":"object","properties":{"hasMore":{"type":"boolean"},"pageNum":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"values":{"type":"array","items":{"$ref":"#/definitions/AccessContractDto"}}},"title":"PaginatedValuesDtoÂ«AccessContractDtoÂ»"},"PhysicalDimensionsModel":{"type":"object","properties":{"Depth":{"$ref":"#/definitions/MeasurementModel"},"Diameter":{"$ref":"#/definitions/MeasurementModel"},"Height":{"$ref":"#/definitions/MeasurementModel"},"Length":{"$ref":"#/definitions/MeasurementModel"},"NumberOfPage":{"type":"integer","format":"int32"},"Shape":{"type":"string"},"Thickness":{"$ref":"#/definitions/MeasurementModel"},"Weight":{"$ref":"#/definitions/MeasurementModel"},"Width":{"$ref":"#/definitions/MeasurementModel"},"any":{"type":"array","items":{"type":"object"}}},"title":"PhysicalDimensionsModel"},"ProjectionDto":{"type":"object","properties":{"$fields":{"$ref":"#/definitions/FieldsDto"}},"title":"ProjectionDto"},"QualifiersDto":{"type":"object","properties":{"qualifier":{"type":"string"},"versions":{"type":"array","items":{"$ref":"#/definitions/VersionsDto"}}},"title":"QualifiersDto"},"QueryDTO":{"type":"object","properties":{"$filter":{"$ref":"#/definitions/QueryFilter"},"$projection":{"$ref":"#/definitions/QueryProjection"},"$query":{"type":"array","items":{"$ref":"#/definitions/JsonNode"}},"$roots":{"type":"array","items":{"type":"string"}}},"title":"QueryDTO"},"QueryFilter":{"type":"object","properties":{"$limit":{"type":"integer","format":"int32"},"$offset":{"type":"integer","format":"int32"},"$orderby":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}},"title":"QueryFilter"},"QueryProjection":{"type":"object","properties":{"$fields":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}},"title":"QueryProjection"},"Resource":{"type":"object","properties":{"description":{"type":"string"},"file":{"type":"file"},"filename":{"type":"string"},"inputStream":{"$ref":"#/definitions/InputStream"},"open":{"type":"boolean"},"readable":{"type":"boolean"},"uri":{"type":"string","format":"uri"},"url":{"type":"string","format":"url"}},"title":"Resource"},"ResultsDto":{"type":"object","properties":{"#allunitups":{"type":"array","items":{"type":"string"}},"#id":{"type":"string"},"#management":{"$ref":"#/definitions/ManagementDto"},"#max":{"type":"integer","format":"int32"},"#min":{"type":"integer","format":"int32"},"#nbobjects":{"type":"integer","format":"int32"},"#nbunits":{"type":"integer","format":"int32"},"#object":{"type":"string"},"#operations":{"type":"array","items":{"type":"string"}},"#opi":{"type":"string"},"#originating_agencies":{"type":"array","items":{"type":"string"}},"#originating_agency":{"type":"string"},"#qualifiers":{"type":"array","items":{"$ref":"#/definitions/QualifiersDto"}},"#storage":{"$ref":"#/definitions/StorageDto"},"#tenant":{"type":"integer","format":"int32"},"#unitType":{"type":"string"},"#unitups":{"type":"array","items":{"type":"string"}},"AcquiredDate":{"type":"string"},"CreatedDate":{"type":"string"},"Description":{"type":"string"},"DescriptionLevel":{"type":"string"},"DocumentType":{"type":"string"},"EndDate":{"type":"string"},"FileInfo":{"$ref":"#/definitions/FileInfoDto"},"InheritedRules":{"$ref":"#/definitions/InheritedRulesDto"},"Keyword":{"type":"array","items":{"$ref":"#/definitions/KeywordDto"}},"OriginatingAgencyArchiveUnitIdentifier":{"type":"array","items":{"type":"string"}},"OriginatingSystemId":{"type":"array","items":{"type":"string"}},"PhysicalAgency":{"type":"array","items":{"type":"string"}},"PhysicalStatus":{"type":"array","items":{"type":"string"}},"PhysicalType":{"type":"array","items":{"type":"string"}},"ReceivedDate":{"type":"string"},"RegisteredDate":{"type":"string"},"SentDate":{"type":"string"},"StartDate":{"type":"string"},"Status":{"type":"string"},"SubmissionAgency":{"$ref":"#/definitions/AgencyDto"},"Title":{"type":"string"},"Title_":{"$ref":"#/definitions/TitleDto"},"TransactedDate":{"type":"string"},"Version":{"type":"string"},"Vtag":{"type":"array","items":{"$ref":"#/definitions/VtagDto"}},"Xtag":{"type":"array","items":{"$ref":"#/definitions/XtagDto"}}},"title":"ResultsDto"},"RuleCategoryDto":{"type":"object","properties":{"FinalAction":{"type":"string"},"Rules":{"type":"array","items":{"$ref":"#/definitions/RuleDto"}}},"title":"RuleCategoryDto"},"RuleDto":{"type":"object","properties":{"EndDate":{"type":"string"},"Rule":{"type":"string"},"StartDate":{"type":"string"}},"title":"RuleDto"},"SearchCriteriaDto":{"type":"object","properties":{"criteriaList":{"type":"array","items":{"$ref":"#/definitions/SearchCriteriaEltDto"}},"fieldsList":{"type":"array","items":{"type":"string"}},"language":{"type":"string"},"nodes":{"type":"array","items":{"type":"string"}},"pageNumber":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"sortingCriteria":{"$ref":"#/definitions/SearchCriteriaSort"}},"title":"SearchCriteriaDto"},"SearchCriteriaEltDto":{"type":"object","properties":{"criteria":{"type":"string"},"values":{"type":"array","items":{"type":"string"}}},"title":"SearchCriteriaEltDto"},"SearchCriteriaSort":{"type":"object","properties":{"criteria":{"type":"string"},"sorting":{"type":"string","enum":["ASC","DESC"]}},"title":"SearchCriteriaSort"},"StorageDto":{"type":"object","properties":{"strategyId":{"type":"string"}},"title":"StorageDto"},"StorageJson":{"type":"object","properties":{"#nbc":{"type":"string"},"offerIds":{"type":"array","items":{"type":"string"}},"strategyId":{"type":"string"}},"title":"StorageJson"},"TitleDto":{"type":"object","properties":{"en":{"type":"string"},"fr":{"type":"string"}},"title":"TitleDto"},"VersionsDto":{"type":"object","properties":{"#id":{"type":"string"},"#rank":{"type":"integer","format":"int32"},"#storage":{"$ref":"#/definitions/StorageJson"},"Algorithm":{"type":"string"},"DataObjectGroupId":{"type":"string"},"DataObjectVersion":{"type":"string"},"FileInfo":{"$ref":"#/definitions/FileInfoModel"},"FormatIdentification":{"$ref":"#/definitions/FormatIdentificationModel"},"MessageDigest":{"type":"string"},"Metadata":{"$ref":"#/definitions/MetadataModel"},"OtherMetadata":{"type":"object"},"PhysicalDimensions":{"$ref":"#/definitions/PhysicalDimensionsModel"},"PhysicalId":{"type":"string"},"Size":{"type":"integer","format":"int32"},"Uri":{"type":"string"}},"title":"VersionsDto"},"VitamSearchRequestDto":{"type":"object","properties":{"$filter":{"$ref":"#/definitions/FilterDto"},"$projection":{"$ref":"#/definitions/ProjectionDto"},"$query":{"type":"array","items":{"$ref":"#/definitions/QueryDTO"}},"$roots":{"type":"array","items":{"type":"string"}}},"title":"VitamSearchRequestDto"},"VitamUIArchiveUnitResponseDto":{"type":"object","properties":{"$context":{"$ref":"#/definitions/VitamSearchRequestDto"},"$facetResults":{"type":"array","items":{"$ref":"#/definitions/FacetResultsDto"}},"$hits":{"$ref":"#/definitions/HitsDto"},"$results":{"type":"array","items":{"$ref":"#/definitions/ArchiveUnit"}}},"title":"VitamUIArchiveUnitResponseDto"},"VitamUISearchResponseDto":{"type":"object","properties":{"$context":{"$ref":"#/definitions/VitamSearchRequestDto"},"$facetResults":{"type":"array","items":{"$ref":"#/definitions/FacetResultsDto"}},"$hits":{"$ref":"#/definitions/HitsDto"},"$results":{"type":"array","items":{"$ref":"#/definitions/ResultsDto"}}},"title":"VitamUISearchResponseDto"},"VtagDto":{"type":"object","properties":{"Key":{"type":"array","items":{"type":"string"}},"Value":{"type":"array","items":{"type":"string"}}},"title":"VtagDto"},"XtagDto":{"type":"object","properties":{"Key":{"type":"array","items":{"type":"string"}},"Value":{"type":"array","items":{"type":"string"}}},"title":"XtagDto"}}}